@model RED.Models.ElectronicDiary.DiaryW
@using System.Globalization;
<link href="~/Content/plugins/chosen/chosen.css" rel="stylesheet" />
<link href="~/Content/plugins/datapicker/datepicker3.css" rel="stylesheet" />
@{
    ViewBag.Title = "Create";
}


<link href="~/Content/plugins/iCheck/custom.css" rel="stylesheet" />
<link href="~/Content/plugins/wizzard/jquery.steps.css" rel="stylesheet" />
<h2>Добави</h2>

@using (Html.BeginForm("Create", "Diary", FormMethod.Post, new { @class = "wizard-big", @id = "form"}))
{
    @Html.AntiForgeryToken()

        <h1>Account</h1>
        <fieldset>
            <h2>Account Information</h2>
            <div class="row">
                <div class="col-lg-8">
                    <div class="form-group">
                        <label>Username *</label>
                        <input id="userName" name="userName" type="text" class="form-control required">
                    </div>
                    <div class="form-group">
                        <label>Password *</label>
                        <input id="password" name="password" type="text" class="form-control required">
                    </div>
                    <div class="form-group">
                        <label>Confirm Password *</label>
                        <input id="confirm" name="confirm" type="text" class="form-control required">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="text-center">
                        <div style="margin-top: 20px">
                            <i class="fa fa-sign-in" style="font-size: 180px;color: #e5e5e5 "></i>
                        </div>
                    </div>
                </div>
            </div>

        </fieldset>
        <h1>Profile</h1>
        <fieldset>
            <h2>Profile Information</h2>
            <div class="row">
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>First name *</label>
                        <input id="name" name="name" type="text" class="form-control required">
                    </div>
                    <div class="form-group">
                        <label>Last name *</label>
                        <input id="surname" name="surname" type="text" class="form-control required">
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Email *</label>
                        <input id="email" name="email" type="text" class="form-control required email">
                    </div>
                    <div class="form-group">
                        <label>Address *</label>
                        <input id="address" name="address" type="text" class="form-control">
                    </div>
                </div>
            </div>
        </fieldset>

        <h1>Warning</h1>
        <fieldset>
            <div class="text-center" style="margin-top: 120px">
                <h2>You did it Man :-)</h2>
            </div>
        </fieldset>

        <h1>Finish</h1>
        <fieldset>
            <h2>Terms and Conditions</h2>
            <input id="acceptTerms" name="acceptTerms" type="checkbox" class="required"> <label for="acceptTerms">I agree with the Terms and Conditions.</label>
        </fieldset>
}

<script src="~/Scripts/plugins/iCheck/icheck.min.js"></script>
<script src="~/Scripts/plugins/validate/jquery.validate.min.js"></script>
<script src="~/Scripts/plugins/staps/jquery.steps.min.js"></script>
<script src="~/Scripts/plugins/chosen/chosen.jquery.js"></script>
<script src="~/Scripts/plugins/datapicker/bootstrap-datepicker.js"></script>
<script>
    var count = 0;

    $('#data_1 .input-group.date').datepicker({
        format: "dd.m.yyyy",
        todayBtn: "linked",
        keyboardNavigation: false,
        forceParse: false,
        calendarWeeks: true,
        autoclose: true
    });

    var config = {
        '.chosen-select': {},
        '.chosen-select-deselect': { allow_single_deselect: true },
        '.chosen-select-no-single': { disable_search_threshold: 10 },
        '.chosen-select-no-results': { no_results_text: 'Oops, nothing found!' },
        '.chosen-select-width': { width: "95%" }
    }
    for (var selector in config) {
        $(selector).chosen(config[selector]);
    }
    
    $('.add-product-btn').click(function () {

        if ($('#Products').val() == '') {
            return false;
        }

        if($('#Quantity').val() == '') {
            return false;
        }

        if($('#QuantityLabel').val() == ''){
            return false;
        }

        //var html = $('.product-list').html();

        //html += '<li>';
        //html += '<span>' + $('#Products').val() + '</span>';
        //html += '<input type="hidden" value="' + $('#Products').val() + '" name="Products[' + count + '].Name">';
        //html += '<input type="hidden" value="' + $('#Quantity').val() + '" name="Products[' + count + '].Quantity">';
        //html += '<input type="hidden" value="' + $('#QuantityLabel').val() + '" name="Products[' + count + '].QuantityLabel">';
        //html += '<input type="hidden" value="' + $('.chosen-select').val() + '" name="Products[' + count + '].Test.Id">';
        //html += '</li>';
        //$('.product-list').html(html);

        var content = '<tr><td class="col-md-2"><span class="label label-primary">Добавен</span></td>' +
            '<td class="issue-info">' +
                $('#Products').val() +
                '<input type="hidden" value="' + $('#Products').val() + '" name="Products[' + count + '].Name"></td><td class="col-md-2">' +
                $('#Quantity').val() + ' ' + $('#QuantityLabel').val() +
                '<input type="hidden" value="' + $('#Quantity').val() + '" name="Products[' + count + '].Quantity"><input type="hidden" value="' + $('#QuantityLabel').val() + '" name="Products[' + count + '].QuantityLabel"></td><td>' +
                $('.chosen-select option:selected').text() +
                '<input type="hidden" value="' + $('.chosen-select').val() + '" name="Products[' + count + '].TestId"></td><td class="col-md-1 text-center"><a class="delete-product" onclick="deleteProduct(this)" ><h3>x</h3></a></td></tr>';

        $('.product-list-table tbody').append(content);


        count++;

        $('#Products').val('');
        $('#Quantity').val('');
        $('#QuantityLabel').val('');
    });

    function deleteProduct(e) {
        //var event = e.target || e.srcElement;
        $(e).parent().parent().remove();
        count--;
    }

</script>

